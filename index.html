<!DOCTYPE html>
<html>
    <head>
        <title>ITUG JOUR FIXE 06</title>
        <!-- meta information -->
        <meta name="author" content="Thomas Kollatz" />
        <meta charset="utf-8" />
        <meta name="viewport" content="width=1024" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <!-- favicons -->
        <link rel="shortcut icon" href="resources/img/favicon.png" />
        <link rel="apple-touch-icon" href="resources/img/apple-touch-icon.png" />
        <!-- CSS reset and grid -->
        <link href="vendor/normalize/normalize-4.1.1.css" rel="stylesheet" />
        <link href="vendor/skeleton/skeleton-2.0.4.css" rel="stylesheet" />
        <!-- fonts -->
        <link
            href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,600,600italic,400italic,700italic,800,800italic&amp;subset=latin,latin-ext"
            rel="stylesheet" type="text/css" />
        <!-- styles for included libraries -->
        <!-- unite gallery -->
        <link rel="stylesheet" href="vendor/unitegallery/css/unite-gallery.css" type="text/css" />
        <!-- codemirror -->
        <link rel="stylesheet" href="vendor/codemirror/lib/codemirror.css" />
        <!-- highlight -->
        <link rel="stylesheet" href="vendor/highlight/styles/default.css" />
        <link rel="stylesheet" href="resources/css/hljs.linenumbering.css" />
        <!-- swiper -->
        <link rel="stylesheet" href="vendor/swiper/swiper.min.css" />
        <!-- magnific popup -->
        <link rel="stylesheet" href="vendor/magnific-popup/magnific-popup-1.1.0.css" />
        <!-- standard presentation styles -->
        <link href="resources/css/style.css" rel="stylesheet" />
        <!-- custom presentation styles -->
        <link href="resources/css/custom.css" rel="stylesheet" />
        <!-- hint styles -->
        <link href="resources/css/hint.css" rel="stylesheet" />
        <!-- js needed in head -->
        <!-- greuler -->
        <script src="vendor/d3/d3-3.5.6.js"></script>
        <script src="vendor/cola/cola.v3.min.js"></script>
        <script src="vendor/greuler/greuler-0.5.5.min.js"></script>
        <!-- html5 dataset shim for IE -->
        <script src="vendor/impress/html5-dataset.js"></script>
    </head>
    <body>
        <div class="fallback-message">
            <p> Your browser <strong>doesn't support the features required</strong> by
                impress.mod.js, so you are presented with a simplified version of this presentation. </p>
            <p> For the best experience please use the latest <strong>Chrome</strong>,
                    <strong>Safari</strong> or <strong>Firefox</strong> browser. </p>
        </div>
        <div id="impress">
            <div class="step">
                <h5><strong>2021-10-27</strong> ZOOM-Universe </h5>
                <h5>
                    <strong>
                        <a href="https://www.itug.de/pages/aktuelles.html">ITUG Jour Fixe 06</a>
                    </strong>
                </h5>
                <h2 class="red down-100">Segmente und Segmentdateien</h2>
                <h3 class=" down-25">Eine Einführung</h3>
                <h5 class="down-25">Präsentation <a href="https://itug.github.io/ITUGJF06"
                        title="View the presentation online"
                    >https://itug.github.io/ITUGJF06</a><br />Daten <a
                        href="https://github.com/ITUG/ITUGJF06"
                    >https://github.com/ITUG/ITUGJF06</a><br />Download <a
                        href="https://github.com/ITUG/ITUGJF06/archive/refs/heads/main.zip"
                        >Präsentation und Daten</a> (zip)</h5>
                <h5 class="down-75">
                    <!--<strong>
                        <a href="https://orcid.org/0000-0001-5485-7681" target="_blank"
                            >Wieland Carls</a>
                    </strong>
                    <img src="resources/img/Twitter_bird_logo_2012.svg" alt="Twitter"
                        class="twitter-icon" />
                    <a href="https://twitter.com/felixf006" title="Wieland Carls on Twitter"
                        target="_blank">@felixf006</a>
                    <br />-->
                    <strong>
                        <a href="https://orcid.org/0000-0003-1904-1841" target="_blank">Thomas
                            Kollatz</a>
                    </strong>
                    <!--<a
                    href="http://www.adwmainz.de/en/digitalitaet/digitale-akademie.html"
                    target="_blank">Digital
                    Academy</a>@<a href="http://www.adwmainz.de/en/home.html"
                    target="_blank">Akademie der Wissenschaften und Literatur | Mainz</a>-->
                    <img src="resources/img/Twitter_bird_logo_2012.svg" alt="Twitter"
                        class="twitter-icon" />
                    <a href="https://twitter.com/kol_t" title="Thomas Kollatz on Twitter"
                        target="_blank">@kol_t</a>
                    <br />
                    <a href="https://creativecommons.org/licenses/by/4.0/">CC-BY 4.0</a>
                </h5>
            </div>
            <div class="step">
                <h2 class="red">Was ist eine Segmentdatei</h2>
                <ul class="line-height-one-five"><li>Eine Segment-Datei ist eine TUSTEP-Datei, die in Segmente unterteilt ist.
                    <li>Inhalt eines Segments kann ein Programm/Script oder ein Text sein.
                    <li>Die Segmente können einzeln aufgerufen, bearbeitet und abgespeichert werden.
                </ul>
                <p class="x-small right">siehe <a href="https://wiki.itug.de/doku.php?id=tustep:tutorial3:grundlagen_segmentdatei">TUSTEP-WIKI</a></p>
            </div>
            <div class="step">
                <h2 class="red">Anweisungen</h2>
                <dl class="line-height-one-five">
                    <dt> Einrichten</dt>
                    <dd><code>#da,segmentdatei,ran-ap</code></dd>
                
                <dt>Inhalt einer Segmentdatei in Editordatei holen</dt>
               
                        <dd><code>h,segmentdatei,?</code></dd>
                <dt>Holen eines Segments (bearbeiten)</dt>
                    <dd><code>h,segmentdatei,segment1</code></dd>
                    <dt>Retten eines Segments (speichern)</dt>
                    <dd><code>r,segmentdatei,segment1</code></dd>
                    <dt>Titelvergabe</dt>
                    <dd><code>tt=mein erstes Segment</code></dd>
                </dl>
                        
                    
                
            </div>
            <div class="step">
                <h2 class="red">TUSCRIPT, Segmente und Segmentdateien</h2>
                <dl class="small">
                    <dt>Inhalt anzeigen</dt>
                    <dd>
                        <pre>
<code class="linenumbers js">$$ MODE TUSCRIPT,{}
segmentfile="texte"
ERROR/STOP OPEN(segmentfile,WRITE,-std-)
inhalt=SEGMENT(segmentfile,"?")
</code></pre></dd>
                    <dt>holen | lesen</dt>
                    <dd><pre>
<code class="linenumbers js">$$ MODE TUSCRIPT,{}
segmentname="tag_211027"
edit_211027=SEGMENT(segmentfile,segmentname)
</code></pre></dd>
                    <dt>retten | schreiben</dt>
                    <dd>
                        <pre>
<code class="linenumbers js">$$ MODE TUSCRIPT,{}
SEGMENT/ERASE $segmentfile,segmentname=tag_211027
</code></pre></dd>
                </dl></div>
            <div class="step">
                <h3 class="red up-25 after-50">TUSCRIPT, Segmente und Segmentdateien</h3>
                <dl class="small">
                    
                    <dt>Segmenttitel</dt>
                    <dd>
                        <pre>
<code class="linenumbers js">$$ MODE TUSCRIPT,{}
SEGMENT/TITLE $segmentfile,segmentname="Eintrag v. Mittwoch 27. Okt. 21"
</code></pre>
                    </dd>
                    <dt>umbenennen</dt>
                    <dd>
                        <pre>
<code class="linenumbers js">$$ MODE TUSCRIPT,{}
status=RENAME(segment,segment_neu,-,segmentfile)
</code></pre>
                    </dd>
                    <dt>löschen</dt>
                    <dd>
                        <pre>
<code class="linenumbers js">$$ MODE TUSCRIPT
status=DELETE(segment_neu,-,segmentfile)
</code></pre>
                    </dd>
                </dl>
                <!--   <p> Demo: <a href="http://localhost/cgi-bin/edit3">CGI-Eingabeformular</a>
                </p> -->
                
                <!--<div class="row">
                    <dl class="medium">
                        <dt>Vorteil</dt>
                        <dd>Lesender und Schreibender Zugriff auf Segmentdatei wird nun auch
                            ausserhalb des Editors ermöglicht
                        </dd>
                        <dd>Segmentdateien werden damit auch für die TUSCRIPTbasierte
                            Onlineeditionsumgebung eine Option
                        </dd>
                    </dl>
                </div>-->
            </div>
            <div class="step">
                <h2 class="red">Segment-Datei und Mega-Segmentdatei</h2>
                <blockquote>Eine "normale" Segment-Datei kann bis zu <span style="color:tomato">9999 Segmente</span> aufnehmen. Sie kann 
                    jedoch mit dem Kommando 
                        <code>#RETTE,segmentdatei,-std-,+;+,+</code>
                      in eine Mega-Segment-Datei konvertiert werden. Eine                  
                    Mega-Segment-Datei kann bis zu <span style="color:tomato">999999 Segmente</span> aufnehmen; weitere          
                     Unterschiede zur normalen Segment-Datei gibt es nicht. Beim Einrichten einer 
                     Segment-Datei sollte als Dateityp RAN angegeben werden, damit schnell auf    
                     die einzelnen Segmente zugegriffen werden kann.</blockquote>
                <p class="x-small right">Handbuch</p>
                
            </div>
            <div class="step">
                <h2 class="red"><code>cr_segm</code> I</h2>
                <pre><code class="linenumbers xml">$$ MODE TUSCRIPT,{}
-- Segmentdatei einrichten:
segm_file="goethe_segm.tf"
ERROR/STOP CREATE (segm_file,ran-o,-std-)

-- Inhalt der Ausgangsdatei auf Variable legen:
file="aufgabe02.tf"
FETCH dsk = TUSTEP_DSK
path2file=ADJUST_PATH (dsk,file)
status=READ (path2file,content)
IF (status!="OK") THEN
 PRINT status
 STOP
ENDIF

-- Dateizugriff Segment startet bei Segmentkennung &lt;text&gt;:
BUILD S_TABLE segm_anf=" &lt;text&gt; "

-- Dict zur Kontrolle - Segmentname muss unique sein:
DICT numa CREATE 999999
</code></pre>
            </div>
            <div class="step">
                <h2 class="red"><code>cr_segm</code> II</h2>
 <pre><code class="linenumbers xml">ACCESS q: READ/VARIABLE/STREAM/* content s,segm_kennung/segm_anf+segment+e,typ
 LOOP/9999999
  READ/EXIT q
  IF (typ!=1) CYCLE
  numatags=FILTER (segment,":&lt;numa&gt;*&lt;/numa&gt;:",-)
  numawert=EXTRACT (numatags,":&lt;numa&gt;:"|,":&lt;/numa&gt;:")
  numawert=JOIN(numawert)
  numa=SQUEEZE(numawert)
  -- Abbruch, wenn numa nicht unique ist:
  DICT numa ADD numa
  -- konformen Segmentnamen aus numa generieren:
  segm_name=EXCHANGE (numa,":/:_:")
  segm_name=CONCAT ("g_",segm_name)
  -- Segmentkennung &lt;text&gt; ins zu rettende Segment integrieren:
  zeile1alt=SELECT (segment,1)
  zeile1neu=CONCAT (segm_kennung,zeile1alt)
  segment=REPLACE (segment,1,zeile1neu)
  -- Segment in Segmentdatei schreiben:
  SEGMENT/ERASE $segm_file, $segm_name = segment
 ENDLOOP
ENDACCESS q
</code>
 </pre>               
               </div> 
            <!-- div.step-->
           <!-- <div class="step">
                <dl>
                    <dt class="red">03</dt>
                    <dd>Beispiele – Live</dd>
                </dl>
            </div>-->
        </div>
        <!-- jquery -->
        <script src="vendor/jquery/jquery-1.11.0.min.js"></script>
        <!-- unite gallery -->
        <script src="vendor/unitegallery/js/unitegallery.min.js"></script>
        <script src="vendor/unitegallery/themes/tiles/ug-theme-tiles.js"></script>
        <script src="resources/js/unite.gallery.js"></script>
        <!-- highlight -->
        <script src="vendor/highlight/highlight.pack-9.3.0.js"></script>
        <script>
            hljs.initHighlightingOnLoad();</script>
        <script src="resources/js/hljs.linenumbering.js"></script>
        <!-- swiper -->
        <script src="vendor/swiper/swiper.min.js"></script>
        <script>
            var swiper = new Swiper('.swiper-container', {
                pagination: '.swiper-pagination',
                paginationClickable: true,
                nextButton: '.swiper-button-next',
                prevButton: '.swiper-button-prev',
                spaceBetween: 30,
                hashnav: true
            });</script>
        <!-- magnific popup -->
        <script src="vendor/magnific-popup/jquery.magnific-popup.min-1.1.0.js"></script>
        <script src="resources/js/magnific-popup.lightbox.js"></script>
        <!-- impress.mod.js -->
        <script src="vendor/impress/impress.fork.js"></script>
        <script src="vendor/impress/impress-slidenum.js"></script>
        <script>
            var obj = impress();
            obj.init();
            initSlideNo(obj);</script>
        <!--<script>
            var videoStep = document.getElementById("video-step");
var video = document.getElementById("video");
videoStep.addEventListener("impress:stepenter", function() {
    video.play();
}, false);
videoStep.addEventListener("impress:stepleave", function() {
    video.pause();
}, false);
        </script>-->
        <script>
            var videos = document.getElementsByTagName("video");
            Array.prototype.forEach.call(videos, function (video) {
                var videoStep = video.closest(".step");
                videoStep.addEventListener("impress:stepenter", function () {
                    video.play();
                },
                false);
                videoStep.addEventListener("impress:stepleave", function () {
                    video.pause();
                },
                false);
            });</script>
    </body>
</html>
